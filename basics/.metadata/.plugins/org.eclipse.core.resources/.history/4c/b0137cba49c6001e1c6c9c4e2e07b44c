/*
 * os_kernel.h
 *
 *  Created on: 08-Feb-2024
 *      Author: naveen
 */

#ifndef INC_OS_KERNEL_H_
#define INC_OS_KERNEL_H_

struct TCB
{
	uint32_t current_sp;
	uint8_t priority;
	uint32_t sleep_count;
	uint32_t *task_stack;
	struct TCB *next;
};

#define SYT_RELOAD_VALUE 	0x0FFFFFU
#define SYT_CONTROL_VALUE 	0x6U

void configure_systick_timer(void);
void enable_systick_timer(void);
void SysTick_Handler(void);
void PendSV_Handler(void);
void initialize_task_stacks(void);
void update_sleep_status(void);
void task_sleep(uint32_t count);
void update_next_task(void);
void set_task_priority(uint32_t task, uint8_t priority);
void os_create_task();

#endif /* INC_OS_KERNEL_H_ */
