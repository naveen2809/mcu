/*
 * basic_timer_test.c
 *
 *  Created on: 29-Aug-2023
 *      Author: naveen
 */

#include <string.h>
#include "stm32f4xx.h"
#include "gpio_driver.h"
#include "general_purpose_timer.h"
#include "common_utilities.h"

#define GPIO_COL_1		GPIO_PIN_1
#define GPIO_COL_2		GPIO_PIN_3
#define GPIO_COL_3		GPIO_PIN_5
#define GPIO_COL_4		GPIO_PIN_7

#define GPIO_ROW_1		GPIO_PIN_5
#define GPIO_ROW_2		GPIO_PIN_7
#define GPIO_ROW_3		GPIO_PIN_9
#define GPIO_ROW_4		GPIO_PIN_11

#define GPIO_PORT_COL	GPIOA
#define GPIO_PORT_ROW	GPIOC

int main(void)
{

	//Configuring the timer
	configure_delay_timer();
	test_delay_us(4000);

	//GPIO Configuration for Columns
	EnablePeriClk(GPIO_PORT_COL);
	GPIOSetMode(GPIO_PORT_COL, GPIO_COL_1, GPIO_MODE_OUTPUT);
	GPIOSetMode(GPIO_PORT_COL, GPIO_COL_2, GPIO_MODE_OUTPUT);
	GPIOSetMode(GPIO_PORT_COL, GPIO_COL_3, GPIO_MODE_OUTPUT);
	GPIOSetMode(GPIO_PORT_COL, GPIO_COL_4, GPIO_MODE_OUTPUT);

	GPIOWritePin(GPIO_PORT_COL, GPIO_COL_1,GPIO_HIGH);
	GPIOWritePin(GPIO_PORT_COL, GPIO_COL_2,GPIO_HIGH);
	GPIOWritePin(GPIO_PORT_COL, GPIO_COL_3,GPIO_HIGH);
	GPIOWritePin(GPIO_PORT_COL, GPIO_COL_4,GPIO_HIGH);

	//GPIO Configuration for Rows

	while(1);

	return 0;
}


